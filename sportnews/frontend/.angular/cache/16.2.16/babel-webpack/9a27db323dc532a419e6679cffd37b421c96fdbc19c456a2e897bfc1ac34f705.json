{"ast":null,"code":"import _asyncToGenerator from \"/Users/giorgiomartucci/ProjectSD/sportnews/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { PLATFORM_ID } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@auth0/auth0-angular\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction AddNewsComponent_div_14_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"\\u2705\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 35)(4, \"h3\");\n    i0.ɵɵtext(5, \"Notizia aggiunta con successo!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7, \"La notizia \\u00E8 stata salvata nel database.\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AddNewsComponent_div_14_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"\\u274C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 35)(4, \"h3\");\n    i0.ɵɵtext(5, \"Errore\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r5.errorMessage);\n  }\n}\nfunction AddNewsComponent_div_14_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"small\");\n    i0.ɵɵtext(2, \"\\u26A0\\uFE0F Il titolo \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AddNewsComponent_div_14_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"small\");\n    i0.ɵɵtext(2, \"\\u26A0\\uFE0F Il contenuto \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AddNewsComponent_div_14_span_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\uD83D\\uDCBE Salva Notizia\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewsComponent_div_14_span_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u23F3 Salvando...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewsComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12);\n    i0.ɵɵtemplate(2, AddNewsComponent_div_14_div_2_Template, 8, 0, \"div\", 13);\n    i0.ɵɵtemplate(3, AddNewsComponent_div_14_div_3_Template, 8, 1, \"div\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"form\", 16, 17);\n    i0.ɵɵlistener(\"ngSubmit\", function AddNewsComponent_div_14_Template_form_ngSubmit_5_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.onSubmit());\n    });\n    i0.ɵɵelementStart(7, \"div\", 18)(8, \"label\", 19);\n    i0.ɵɵtext(9, \" \\uD83D\\uDCF0 Titolo \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"input\", 20, 21);\n    i0.ɵɵlistener(\"ngModelChange\", function AddNewsComponent_div_14_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.newsArticle.titolo = $event);\n    })(\"input\", function AddNewsComponent_div_14_Template_input_input_10_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.onInputChange());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 22)(13, \"small\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(15, AddNewsComponent_div_14_div_15_Template, 3, 0, \"div\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 18)(17, \"label\", 24);\n    i0.ɵɵtext(18, \" \\uD83D\\uDCDD Paragrafo \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"textarea\", 25);\n    i0.ɵɵlistener(\"ngModelChange\", function AddNewsComponent_div_14_Template_textarea_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.newsArticle.paragrafo = $event);\n    })(\"input\", function AddNewsComponent_div_14_Template_textarea_input_19_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.onInputChange());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 22)(21, \"small\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"div\", 18)(24, \"label\", 26);\n    i0.ɵɵtext(25, \" \\uD83D\\uDCDD Contenuto \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"textarea\", 27, 28);\n    i0.ɵɵlistener(\"ngModelChange\", function AddNewsComponent_div_14_Template_textarea_ngModelChange_26_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.newsArticle.contenuto = $event);\n    })(\"input\", function AddNewsComponent_div_14_Template_textarea_input_26_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.onInputChange());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 22)(29, \"small\");\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(31, AddNewsComponent_div_14_div_31_Template, 3, 0, \"div\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"div\", 29)(33, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_14_Template_button_click_33_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.resetForm());\n    });\n    i0.ɵɵtext(34, \" \\uD83D\\uDD04 Reset \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"button\", 31);\n    i0.ɵɵtemplate(36, AddNewsComponent_div_14_span_36_Template, 2, 0, \"span\", 32);\n    i0.ɵɵtemplate(37, AddNewsComponent_div_14_span_37_Template, 2, 0, \"span\", 32);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const _r7 = i0.ɵɵreference(11);\n    const _r9 = i0.ɵɵreference(27);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showSuccessMessage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorMessage);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newsArticle.titolo);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Caratteri: \", ctx_r0.getTitoloLength(), \"/200\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r7.invalid && _r7.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newsArticle.paragrafo);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Caratteri: \", (ctx_r0.newsArticle.paragrafo == null ? null : ctx_r0.newsArticle.paragrafo.length) || 0, \"/500\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newsArticle.contenuto);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Caratteri: \", ctx_r0.getContenutoLength(), \"/1000\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r9.invalid && _r9.touched);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.isSubmitting);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.isSubmitting || !ctx_r0.isFormValid());\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isSubmitting);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isSubmitting);\n  }\n}\nfunction AddNewsComponent_div_15_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"div\", 43);\n    i0.ɵɵtext(2, \"\\u23F3\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"Caricamento articoli...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AddNewsComponent_div_15_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"div\", 45);\n    i0.ɵɵtext(2, \"\\uD83D\\uDCF0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"Nessun articolo trovato\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6, \"Non hai ancora creato nessun articolo. Inizia creando il tuo primo articolo!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_15_div_2_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r28 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r28.setActiveTab(\"add\"));\n    });\n    i0.ɵɵtext(8, \" \\u2795 Crea il tuo primo articolo \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AddNewsComponent_div_15_div_3_div_7_div_1_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 68);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_15_div_3_div_7_div_1_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r44);\n      const article_r31 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r42 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r42.toggleArticleExpansion(article_r31));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const article_r31 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", article_r31.expanded ? \"\\uD83D\\uDCD6\" : \"\\uD83D\\uDCD1\", \" \");\n  }\n}\nfunction AddNewsComponent_div_15_div_3_div_7_div_1_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\uD83D\\uDCBE\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewsComponent_div_15_div_3_div_7_div_1_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u23F3\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewsComponent_div_15_div_3_div_7_div_1_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\uD83D\\uDDD1\\uFE0F\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewsComponent_div_15_div_3_div_7_div_1_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u23F3\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewsComponent_div_15_div_3_div_7_div_1_p_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 69);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const article_r31 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(article_r31.sottotitolo);\n  }\n}\nfunction AddNewsComponent_div_15_div_3_div_7_div_1_div_22_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 73);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_15_div_3_div_7_div_1_div_22_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r50);\n      const article_r31 = i0.ɵɵnextContext(3).$implicit;\n      const ctx_r48 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r48.toggleArticleExpansion(article_r31));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const article_r31 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", article_r31.expanded ? \"\\u25B2 Mostra meno\" : \"\\u25BC Mostra tutto\", \" \");\n  }\n}\nfunction AddNewsComponent_div_15_div_3_div_7_div_1_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 70)(1, \"div\", 71);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, AddNewsComponent_div_15_div_3_div_7_div_1_div_22_button_3_Template, 2, 1, \"button\", 72);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const article_r31 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"article-content-preview\", !article_r31.expanded);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", article_r31.contenuto, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", article_r31.contenuto.length > 150);\n  }\n}\nfunction AddNewsComponent_div_15_div_3_div_7_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r55 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 54)(1, \"div\", 55)(2, \"div\", 56)(3, \"span\", 57);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 58);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 59)(8, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_15_div_3_div_7_div_1_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r55);\n      const article_r31 = i0.ɵɵnextContext().$implicit;\n      const ctx_r53 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r53.startEditing(article_r31));\n    });\n    i0.ɵɵtext(9, \" \\u270F\\uFE0F \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 61);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_15_div_3_div_7_div_1_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r55);\n      const article_r31 = i0.ɵɵnextContext().$implicit;\n      const ctx_r56 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r56.openArticleContent(article_r31));\n    });\n    i0.ɵɵtext(11, \" \\uD83D\\uDC41\\uFE0F \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, AddNewsComponent_div_15_div_3_div_7_div_1_button_12_Template, 2, 1, \"button\", 62);\n    i0.ɵɵelementStart(13, \"button\", 63);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_15_div_3_div_7_div_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r55);\n      const article_r31 = i0.ɵɵnextContext().$implicit;\n      const ctx_r58 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r58.downloadArticle(article_r31));\n    });\n    i0.ɵɵtemplate(14, AddNewsComponent_div_15_div_3_div_7_div_1_span_14_Template, 2, 0, \"span\", 32);\n    i0.ɵɵtemplate(15, AddNewsComponent_div_15_div_3_div_7_div_1_span_15_Template, 2, 0, \"span\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 64);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_15_div_3_div_7_div_1_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r55);\n      const article_r31 = i0.ɵɵnextContext().$implicit;\n      const ctx_r60 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r60.confirmDeleteArticle(article_r31));\n    });\n    i0.ɵɵtemplate(17, AddNewsComponent_div_15_div_3_div_7_div_1_span_17_Template, 2, 0, \"span\", 32);\n    i0.ɵɵtemplate(18, AddNewsComponent_div_15_div_3_div_7_div_1_span_18_Template, 2, 0, \"span\", 32);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"h3\", 65);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, AddNewsComponent_div_15_div_3_div_7_div_1_p_21_Template, 2, 1, \"p\", 66);\n    i0.ɵɵtemplate(22, AddNewsComponent_div_15_div_3_div_7_div_1_div_22_Template, 4, 4, \"div\", 67);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r62 = i0.ɵɵnextContext();\n    const i_r32 = ctx_r62.index;\n    const article_r31 = ctx_r62.$implicit;\n    const ctx_r33 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"#\", i_r32 + 1, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r33.formatArticleDate(article_r31.data));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", article_r31.contenuto && article_r31.contenuto.length > 150);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r33.downloadingArticle === article_r31.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r33.downloadingArticle !== article_r31.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r33.downloadingArticle === article_r31.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r33.deletingArticle === article_r31.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r33.deletingArticle !== article_r31.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r33.deletingArticle === article_r31.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(article_r31.titolo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", article_r31.sottotitolo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", article_r31.contenuto);\n  }\n}\nfunction AddNewsComponent_div_15_div_3_div_7_div_2_span_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\uD83D\\uDCBE Salva Modifiche\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewsComponent_div_15_div_3_div_7_div_2_span_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u23F3 Salvando...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewsComponent_div_15_div_3_div_7_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r67 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 74)(1, \"div\", 75)(2, \"div\", 18)(3, \"label\", 76);\n    i0.ɵɵtext(4, \"\\uD83D\\uDCF0 Titolo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 77);\n    i0.ɵɵlistener(\"ngModelChange\", function AddNewsComponent_div_15_div_3_div_7_div_2_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r67);\n      const article_r31 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(article_r31.titolo = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 22)(7, \"small\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\", 18)(10, \"label\", 76);\n    i0.ɵɵtext(11, \"\\uD83D\\uDCDD Sottotitolo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"textarea\", 78);\n    i0.ɵɵlistener(\"ngModelChange\", function AddNewsComponent_div_15_div_3_div_7_div_2_Template_textarea_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r67);\n      const article_r31 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(article_r31.sottotitolo = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 22)(14, \"small\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 18)(17, \"label\", 76);\n    i0.ɵɵtext(18, \"\\uD83D\\uDCC4 Contenuto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"textarea\", 79);\n    i0.ɵɵlistener(\"ngModelChange\", function AddNewsComponent_div_15_div_3_div_7_div_2_Template_textarea_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r67);\n      const article_r31 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(article_r31.contenuto = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 22)(21, \"small\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"div\", 80)(24, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_15_div_3_div_7_div_2_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r67);\n      const article_r31 = i0.ɵɵnextContext().$implicit;\n      const ctx_r72 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r72.cancelEditing(article_r31));\n    });\n    i0.ɵɵtext(25, \" \\u274C Annulla \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 81);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_15_div_3_div_7_div_2_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r67);\n      const article_r31 = i0.ɵɵnextContext().$implicit;\n      const ctx_r74 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r74.saveArticle(article_r31));\n    });\n    i0.ɵɵtemplate(27, AddNewsComponent_div_15_div_3_div_7_div_2_span_27_Template, 2, 0, \"span\", 32);\n    i0.ɵɵtemplate(28, AddNewsComponent_div_15_div_3_div_7_div_2_span_28_Template, 2, 0, \"span\", 32);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const article_r31 = i0.ɵɵnextContext().$implicit;\n    const ctx_r34 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", article_r31.titolo);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Caratteri: \", (article_r31.titolo == null ? null : article_r31.titolo.length) || 0, \"/200\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", article_r31.sottotitolo);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Caratteri: \", (article_r31.sottotitolo == null ? null : article_r31.sottotitolo.length) || 0, \"/500\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", article_r31.contenuto);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Caratteri: \", (article_r31.contenuto == null ? null : article_r31.contenuto.length) || 0, \"/2000\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r34.updatingArticle || !ctx_r34.isArticleValid(article_r31));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r34.updatingArticle);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r34.updatingArticle);\n  }\n}\nfunction AddNewsComponent_div_15_div_3_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51);\n    i0.ɵɵtemplate(1, AddNewsComponent_div_15_div_3_div_7_div_1_Template, 23, 12, \"div\", 52);\n    i0.ɵɵtemplate(2, AddNewsComponent_div_15_div_3_div_7_div_2_Template, 29, 9, \"div\", 53);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const article_r31 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !article_r31.editing);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", article_r31.editing);\n  }\n}\nfunction AddNewsComponent_div_15_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r78 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"div\", 47)(2, \"h2\");\n    i0.ɵɵtext(3, \"\\uD83D\\uDCDA I Tuoi Articoli\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_15_div_3_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r78);\n      const ctx_r77 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r77.loadMyArticles());\n    });\n    i0.ɵɵtext(5, \" \\uD83D\\uDD04 Ricarica \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 49);\n    i0.ɵɵtemplate(7, AddNewsComponent_div_15_div_3_div_7_Template, 3, 2, \"div\", 50);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r24.savedArticles);\n  }\n}\nfunction AddNewsComponent_div_15_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"\\u2705\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 35)(4, \"h3\");\n    i0.ɵɵtext(5, \"Articolo aggiornato!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7, \"Le modifiche sono state salvate con successo.\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AddNewsComponent_div_15_div_4_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"\\u274C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 35)(4, \"h3\");\n    i0.ɵɵtext(5, \"Errore nell'aggiornamento\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r80 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r80.updateErrorMessage);\n  }\n}\nfunction AddNewsComponent_div_15_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, AddNewsComponent_div_15_div_4_div_1_Template, 8, 0, \"div\", 13);\n    i0.ɵɵtemplate(2, AddNewsComponent_div_15_div_4_div_2_Template, 8, 1, \"div\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.updateSuccessMessage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.updateErrorMessage);\n  }\n}\nfunction AddNewsComponent_div_15_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"\\u2705\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 35)(4, \"h3\");\n    i0.ɵɵtext(5, \"Download completato!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7, \"L'articolo \\u00E8 stato scaricato con successo.\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AddNewsComponent_div_15_div_5_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"\\u274C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 35)(4, \"h3\");\n    i0.ɵɵtext(5, \"Errore nel download\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r82 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r82.downloadErrorMessage);\n  }\n}\nfunction AddNewsComponent_div_15_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, AddNewsComponent_div_15_div_5_div_1_Template, 8, 0, \"div\", 13);\n    i0.ɵɵtemplate(2, AddNewsComponent_div_15_div_5_div_2_Template, 8, 1, \"div\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.downloadSuccessMessage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.downloadErrorMessage);\n  }\n}\nfunction AddNewsComponent_div_15_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"\\u2705\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 35)(4, \"h3\");\n    i0.ɵɵtext(5, \"Articolo eliminato!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7, \"L'articolo \\u00E8 stato eliminato con successo.\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AddNewsComponent_div_15_div_6_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"\\u274C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 35)(4, \"h3\");\n    i0.ɵɵtext(5, \"Errore nell'eliminazione\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r84 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r84.deleteErrorMessage);\n  }\n}\nfunction AddNewsComponent_div_15_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, AddNewsComponent_div_15_div_6_div_1_Template, 8, 0, \"div\", 13);\n    i0.ɵɵtemplate(2, AddNewsComponent_div_15_div_6_div_2_Template, 8, 1, \"div\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r27 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r27.deleteSuccessMessage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r27.deleteErrorMessage);\n  }\n}\nfunction AddNewsComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtemplate(1, AddNewsComponent_div_15_div_1_Template, 5, 0, \"div\", 38);\n    i0.ɵɵtemplate(2, AddNewsComponent_div_15_div_2_Template, 9, 0, \"div\", 39);\n    i0.ɵɵtemplate(3, AddNewsComponent_div_15_div_3_Template, 8, 1, \"div\", 40);\n    i0.ɵɵtemplate(4, AddNewsComponent_div_15_div_4_Template, 3, 2, \"div\", 41);\n    i0.ɵɵtemplate(5, AddNewsComponent_div_15_div_5_Template, 3, 2, \"div\", 41);\n    i0.ɵɵtemplate(6, AddNewsComponent_div_15_div_6_Template, 3, 2, \"div\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.loadingArticles);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.loadingArticles && ctx_r1.savedArticles.length === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.loadingArticles && ctx_r1.savedArticles.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.updateSuccessMessage || ctx_r1.updateErrorMessage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.downloadSuccessMessage || ctx_r1.downloadErrorMessage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.deleteSuccessMessage || ctx_r1.deleteErrorMessage);\n  }\n}\nfunction AddNewsComponent_div_16_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 89)(1, \"div\", 90)(2, \"span\", 91);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 92);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"h3\", 93);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 94);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const news_r87 = ctx.$implicit;\n    const i_r88 = ctx.index;\n    const ctx_r86 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"#\", i_r88 + 1, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r86.formatDate(news_r87.dataCreazione));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(news_r87.titolo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(news_r87.contenuto);\n  }\n}\nfunction AddNewsComponent_div_16_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 87);\n    i0.ɵɵtemplate(1, AddNewsComponent_div_16_div_6_div_1_Template, 10, 4, \"div\", 88);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r85 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r85.addedNews);\n  }\n}\nfunction AddNewsComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r90 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 82)(1, \"div\", 83)(2, \"h2\", 84);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 85);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_16_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r90);\n      const ctx_r89 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r89.toggleAddedNews());\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, AddNewsComponent_div_16_div_6_Template, 2, 1, \"div\", 86);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\uD83D\\uDCDA Notizie Aggiunte (\", ctx_r2.addedNews.length, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.showAddedNews ? \"\\u25B2 Nascondi\" : \"\\u25BC Mostra\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showAddedNews);\n  }\n}\nfunction AddNewsComponent_div_17_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 104)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"small\", 105);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r91 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r91.articleToDelete.titolo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r91.formatArticleDate(ctx_r91.articleToDelete.data));\n  }\n}\nfunction AddNewsComponent_div_17_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\uD83D\\uDDD1\\uFE0F Elimina\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewsComponent_div_17_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u23F3 Eliminando...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewsComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r95 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 95);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_17_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r95);\n      const ctx_r94 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r94.cancelDelete());\n    });\n    i0.ɵɵelementStart(1, \"div\", 96);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_17_Template_div_click_1_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.ɵɵelementStart(2, \"div\", 97)(3, \"h3\");\n    i0.ɵɵtext(4, \"\\uD83D\\uDDD1\\uFE0F Conferma Eliminazione\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 98)(6, \"p\");\n    i0.ɵɵtext(7, \"Sei sicuro di voler eliminare questo articolo?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, AddNewsComponent_div_17_div_8_Template, 5, 2, \"div\", 99);\n    i0.ɵɵelementStart(9, \"p\", 100);\n    i0.ɵɵtext(10, \"\\u26A0\\uFE0F Questa azione non pu\\u00F2 essere annullata.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 101)(12, \"button\", 102);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_17_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r95);\n      const ctx_r97 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r97.cancelDelete());\n    });\n    i0.ɵɵtext(13, \" \\u274C Annulla \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 103);\n    i0.ɵɵlistener(\"click\", function AddNewsComponent_div_17_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r95);\n      const ctx_r98 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r98.deleteArticle());\n    });\n    i0.ɵɵtemplate(15, AddNewsComponent_div_17_span_15_Template, 2, 0, \"span\", 32);\n    i0.ɵɵtemplate(16, AddNewsComponent_div_17_span_16_Template, 2, 0, \"span\", 32);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.articleToDelete);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r3.deletingArticle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r3.deletingArticle);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.deletingArticle);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.deletingArticle);\n  }\n}\nexport let AddNewsComponent = /*#__PURE__*/(() => {\n  class AddNewsComponent {\n    constructor(http, router, auth,\n    // <-- inietti AuthService\n    platformId) {\n      this.http = http;\n      this.router = router;\n      this.auth = auth;\n      this.platformId = platformId;\n      this.addNewsUrl = 'http://localhost:8080/addNews';\n      this.myArticlesUrl = 'http://localhost:8080/my-articles';\n      this.updateArticleUrl = 'http://localhost:8080/update-article';\n      this.deleteArticleUrl = 'http://localhost:8080/delete-article';\n      this.updateBlob = 'http://localhost:8080/update-blob-content';\n      // Tab management\n      this.activeTab = 'add';\n      // Model per il form\n      this.newsArticle = {\n        titolo: '',\n        paragrafo: '',\n        contenuto: ''\n      };\n      // Stati del componente per aggiunta\n      this.isSubmitting = false;\n      this.showSuccessMessage = false;\n      this.errorMessage = '';\n      this.showDeleteModal = false;\n      this.articleToDelete = null;\n      this.deletingArticle = null;\n      this.deleteSuccessMessage = false;\n      this.deleteErrorMessage = '';\n      // Lista delle notizie aggiunte\n      this.addedNews = [];\n      this.showAddedNews = false;\n      // Gestione articoli salvati\n      this.savedArticles = [];\n      this.loadingArticles = false;\n      this.updatingArticle = false;\n      this.updateSuccessMessage = false;\n      this.updateErrorMessage = '';\n      // Nuove proprietà per la funzionalità di download\n      this.downloadingArticle = null;\n      this.downloadSuccessMessage = false;\n      this.downloadErrorMessage = '';\n      console.log('AddNewsComponent constructor called');\n    }\n    ngOnInit() {\n      // Carica gli articoli all'avvio se siamo nella tab manage\n      if (this.activeTab === 'manage') {\n        this.loadMyArticles();\n      }\n    }\n    // Tab Management\n    setActiveTab(tab) {\n      this.activeTab = tab;\n      if (tab === 'manage' && this.savedArticles.length === 0) {\n        this.loadMyArticles();\n      }\n      // Reset messages when switching tabs\n      this.clearMessages();\n    }\n    // Clear all messages\n    clearMessages() {\n      this.errorMessage = '';\n      this.showSuccessMessage = false;\n      this.updateSuccessMessage = false;\n      this.updateErrorMessage = '';\n    }\n    // Load user's articles\n    loadMyArticles() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        _this.loadingArticles = true;\n        _this.clearMessages();\n        const token = yield _this.auth.getAccessTokenSilently().toPromise();\n        const headers = {\n          Authorization: `Bearer ${token}`\n        };\n        _this.http.get(_this.myArticlesUrl, {\n          headers\n        }).subscribe({\n          next: response => {\n            console.log('✅ Articoli caricati:', response);\n            if (response.success) {\n              _this.savedArticles = response.results.map(article => ({\n                ...article,\n                editing: false\n              }));\n            }\n            _this.loadingArticles = false;\n          },\n          error: error => {\n            console.error('❌ Errore nell\\'aggiornamento articolo:', error);\n            _this.updateErrorMessage = 'Errore nell\\'aggiornamento: ' + (error.error?.error || error.message || 'Errore sconosciuto');\n            _this.updatingArticle = false;\n          }\n        });\n      })();\n    }\n    confirmDeleteArticle(article) {\n      this.articleToDelete = article;\n      this.showDeleteModal = true;\n      // Reset dei messaggi precedenti\n      this.deleteSuccessMessage = false;\n      this.deleteErrorMessage = '';\n    }\n    /**\n     * Annulla l'eliminazione e chiude il modal\n     */\n    cancelDelete() {\n      this.showDeleteModal = false;\n      this.articleToDelete = null;\n    }\n    /**\n     * Elimina l'articolo chiamando l'API\n     */\n    deleteArticle() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this2.articleToDelete) return;\n        _this2.deletingArticle = _this2.articleToDelete.id;\n        try {\n          const token = yield _this2.auth.getAccessTokenSilently().toPromise();\n          if (!token) {\n            _this2.errorMessage = 'Token di autenticazione mancante. Effettua il login.';\n            _this2.isSubmitting = false;\n            return;\n          }\n          const response = yield fetch(`${_this2.deleteArticleUrl}/${_this2.articleToDelete.id}`, {\n            method: 'DELETE',\n            headers: {\n              'Authorization': `Bearer ${token}`,\n              'Content-Type': 'application/json'\n            }\n          });\n          const result = yield response.json();\n          if (response.ok && result.success) {\n            // Rimuovi l'articolo dalla lista locale\n            _this2.savedArticles = _this2.savedArticles.filter(article => article.id !== _this2.articleToDelete.id);\n            // Mostra messaggio di successo\n            _this2.deleteSuccessMessage = true;\n            _this2.deleteErrorMessage = '';\n            // Chiudi il modal\n            _this2.showDeleteModal = false;\n            _this2.articleToDelete = null;\n            // Nascondi il messaggio di successo dopo 3 secondi\n            setTimeout(() => {\n              _this2.deleteSuccessMessage = false;\n            }, 3000);\n            console.log('Articolo eliminato con successo');\n          } else {\n            throw new Error(result.error || 'Errore durante l\\'eliminazione dell\\'articolo');\n          }\n        } catch (error) {\n          console.error('Errore durante l\\'eliminazione:', error);\n          _this2.deleteErrorMessage = error instanceof Error ? error.message : 'Errore sconosciuto durante l\\'eliminazione';\n          _this2.deleteSuccessMessage = false;\n          // Nascondi il messaggio di errore dopo 5 secondi\n          setTimeout(() => {\n            _this2.deleteErrorMessage = '';\n          }, 5000);\n        } finally {\n          _this2.deletingArticle = null;\n        }\n      })();\n    }\n    toggleArticleExpansion(article) {\n      article.expanded = !article.expanded;\n    }\n    handleSuccess() {\n      this.showSuccessMessage = true;\n      this.addToAddedNewsList();\n      this.resetForm();\n      this.isSubmitting = false;\n      // Reload articles if we're in manage tab\n      if (this.activeTab === 'manage') {\n        setTimeout(() => {\n          this.loadMyArticles();\n        }, 1000);\n      }\n      // Hide success message after 3 seconds\n      setTimeout(() => {\n        this.showSuccessMessage = false;\n      }, 3000);\n    }\n    addToAddedNewsList() {\n      const newsWithDate = {\n        ...this.newsArticle,\n        dataCreazione: new Date(),\n        expanded: false\n      };\n      this.addedNews.unshift(newsWithDate);\n      // Keep only last 5 news\n      if (this.addedNews.length > 5) {\n        this.addedNews = this.addedNews.slice(0, 5);\n      }\n      console.log('📰 Notizia aggiunta alla lista:', newsWithDate);\n      console.log('📚 Lista completa notizie:', this.addedNews);\n    }\n    openArticleLink(link) {\n      if (link) {\n        window.open(link, '_blank');\n      }\n    }\n    // Format article date\n    formatArticleDate(dateString) {\n      try {\n        const date = new Date(dateString);\n        return date.toLocaleDateString('it-IT', {\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit'\n        });\n      } catch (error) {\n        return dateString;\n      }\n    }\n    // Add News Form Methods\n    onInputChange() {\n      // Reset error messages when user starts typing\n      if (this.errorMessage) {\n        this.errorMessage = '';\n      }\n    }\n    getTitoloLength() {\n      return this.newsArticle.titolo?.length || 0;\n    }\n    getContenutoLength() {\n      return this.newsArticle.contenuto?.length || 0;\n    }\n    isFormValid() {\n      return !!(this.newsArticle.titolo?.trim() && this.newsArticle.contenuto?.trim());\n    }\n    resetForm() {\n      this.newsArticle = {\n        titolo: '',\n        paragrafo: '',\n        contenuto: ''\n      };\n      this.clearMessages();\n    }\n    onSubmit() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this3.isFormValid()) {\n          _this3.errorMessage = 'Compila tutti i campi obbligatori';\n          return;\n        }\n        _this3.isSubmitting = true;\n        _this3.clearMessages();\n        const token = yield _this3.auth.getAccessTokenSilently().toPromise();\n        if (!token) {\n          _this3.errorMessage = 'Token di autenticazione mancante. Effettua il login.';\n          _this3.isSubmitting = false;\n          return;\n        }\n        const headers = {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        };\n        // Prepare the news data\n        const newsData = {\n          titolo: _this3.newsArticle.titolo.trim(),\n          paragrafo: _this3.newsArticle.paragrafo?.trim() || '',\n          contenuto: _this3.newsArticle.contenuto.trim()\n        };\n        _this3.http.post(_this3.addNewsUrl, newsData, {\n          headers\n        }).subscribe({\n          next: response => {\n            console.log('✅ Notizia aggiunta con successo:', response);\n            if (response.success) {\n              // Show success message\n              _this3.showSuccessMessage = true;\n              // Add to recent news list\n              _this3.addedNews.unshift({\n                ..._this3.newsArticle,\n                dataCreazione: new Date()\n              });\n              // Reset form\n              _this3.resetForm();\n              // Hide success message after 5 seconds\n              setTimeout(() => {\n                _this3.showSuccessMessage = false;\n              }, 5000);\n            } else {\n              _this3.errorMessage = response.message || 'Errore durante il salvataggio della notizia';\n            }\n            _this3.isSubmitting = false;\n          },\n          error: error => {\n            console.error('❌ Errore nell\\'aggiunta della notizia:', error);\n            if (error.status === 401) {\n              _this3.errorMessage = 'Sessione scaduta. Effettua nuovamente il login.';\n              // Optionally redirect to login\n              // this.router.navigate(['/login']);\n            } else if (error.status === 403) {\n              _this3.errorMessage = 'Non hai i permessi per aggiungere notizie.';\n            } else if (error.status === 400) {\n              _this3.errorMessage = 'Dati non validi: ' + (error.error?.message || 'Controlla i campi inseriti');\n            } else {\n              _this3.errorMessage = 'Errore durante il salvataggio: ' + (error.error?.message || error.message || 'Errore sconosciuto');\n            }\n            _this3.isSubmitting = false;\n          }\n        });\n      })();\n    }\n    // Recent News Management\n    toggleAddedNews() {\n      this.showAddedNews = !this.showAddedNews;\n    }\n    formatDate(date) {\n      return date.toLocaleDateString('it-IT', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    }\n    // Navigation\n    goToHome() {\n      this.router.navigate(['/']);\n    }\n    startEditing(article) {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        // Prima carica il contenuto completo dal blob se disponibile\n        yield _this4.loadArticleContentFromBlob(article);\n        // Poi avvia la modalità modifica\n        article.editing = true;\n        article.originalData = {\n          ...article\n        }; // Backup per il cancel\n      })();\n    }\n    /**\n     * Carica il contenuto dell'articolo dal blob storage\n     */\n    loadArticleContentFromBlob(article) {\n      return _asyncToGenerator(function* () {\n        if (!article.link || !article.link.includes(\"blob.core.windows.net\") || !article.link.endsWith(\".txt\")) {\n          return;\n        }\n        try {\n          const response = yield fetch(article.link);\n          if (!response.ok) {\n            throw new Error(`Errore HTTP ${response.status}`);\n          }\n          const text = yield response.text();\n          // Parsing formato Title/Subtitle/Text\n          const titleMatch = text.match(/Title:\\s*(.+?)(?:\\n|$)/);\n          const subtitleMatch = text.match(/Subtitle:\\s*(.+?)(?:\\n|$)/);\n          // Aggiorna l'articolo con il contenuto completo dal blob\n          if (titleMatch) {\n            article.titolo = titleMatch[1].trim();\n          }\n          if (subtitleMatch) {\n            article.sottotitolo = subtitleMatch[1].trim();\n          }\n          if (text) {\n            article.contenuto = text;\n          }\n        } catch (error) {\n          console.error(\"Errore nel caricamento dal blob:\", error);\n          // In caso di errore, usa il contenuto esistente\n        }\n      })();\n    }\n\n    openArticleContent(article) {\n      const link = article.link;\n      if (link && link.includes(\"blob.core.windows.net\") && link.endsWith(\".txt\")) {\n        fetch(link).then(res => {\n          if (!res.ok) throw new Error(\"Errore HTTP \" + res.status);\n          return res.text();\n        }).then(text => {\n          // Parsing formato Title/Subtitle/Text\n          const titleMatch = text.match(/Title:\\s*(.+?)(?:\\n|$)/);\n          const subtitleMatch = text.match(/Subtitle:\\s*(.+?)(?:\\n|$)/);\n          const textMatch = text.match(/Text:\\s*([\\s\\S]+)/);\n          const articleContent = {\n            title: titleMatch ? titleMatch[1].trim() : article.titolo || \"Articolo\",\n            subtitle: subtitleMatch ? subtitleMatch[1].trim() : article.sottotitolo || \"\",\n            text: textMatch ? textMatch[1].trim() : article.contenuto || text\n          };\n          // Crea una nuova finestra/tab per mostrare l'articolo\n          this.displayArticleInNewWindow(articleContent);\n        }).catch(err => {\n          console.error(\"Errore nel caricamento dal blob:\", err);\n          alert(\"Impossibile caricare l'articolo dal blob.\");\n        });\n      } else if (link) {\n        // Se non è un blob, apri il link direttamente\n        window.open(link, '_blank');\n      } else {\n        // Se non c'è link, mostra il contenuto locale\n        const articleContent = {\n          title: article.titolo || \"Articolo\",\n          subtitle: article.sottotitolo || \"\",\n          text: article.contenuto || \"Contenuto non disponibile\"\n        };\n        this.displayArticleInNewWindow(articleContent);\n      }\n    }\n    /**\n     * Mostra l'articolo in una nuova finestra\n     */\n    displayArticleInNewWindow(articleContent) {\n      const newWindow = window.open('', '_blank');\n      if (newWindow) {\n        newWindow.document.write(`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>${articleContent.title}</title>\n          <meta charset=\"UTF-8\">\n          <style>\n            body {\n              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n              max-width: 800px;\n              margin: 40px auto;\n              padding: 20px;\n              line-height: 1.6;\n              color: #333;\n            }\n            h1 {\n              color: #2c3e50;\n              border-bottom: 3px solid #667eea;\n              padding-bottom: 10px;\n            }\n            h2 {\n              color: #666;\n              font-style: italic;\n              margin-bottom: 20px;\n            }\n            .content {\n              white-space: pre-line;\n              text-align: justify;\n            }\n          </style>\n        </head>\n        <body>\n          <h1>${articleContent.title}</h1>\n          ${articleContent.subtitle ? `<h2>${articleContent.subtitle}</h2>` : ''}\n          <div class=\"content\">${articleContent.text}</div>\n        </body>\n        </html>\n      `);\n        newWindow.document.close();\n      }\n    }\n    /**\n     * Scarica l'articolo come file di testo\n     */\n    downloadArticle(article) {\n      var _this5 = this;\n      return _asyncToGenerator(function* () {\n        _this5.downloadingArticle = article.id;\n        _this5.downloadSuccessMessage = false;\n        _this5.downloadErrorMessage = '';\n        try {\n          let contentToDownload = '';\n          // Se l'articolo ha un link blob, scarica il contenuto completo\n          if (article.link && article.link.includes(\"blob.core.windows.net\") && article.link.endsWith(\".txt\")) {\n            try {\n              const response = yield fetch(article.link);\n              if (response.ok) {\n                contentToDownload = yield response.text();\n              } else {\n                throw new Error(`Errore HTTP ${response.status}`);\n              }\n            } catch (blobError) {\n              console.warn(\"Errore nel caricamento dal blob, uso contenuto locale:\", blobError);\n              // Fallback al contenuto locale\n              contentToDownload = _this5.formatArticleForDownload(article);\n            }\n          } else {\n            // Usa il contenuto locale\n            contentToDownload = _this5.formatArticleForDownload(article);\n          }\n          // Crea il file e avvia il download\n          const blob = new Blob([contentToDownload], {\n            type: 'text/plain;charset=utf-8'\n          });\n          const url = window.URL.createObjectURL(blob);\n          const link = document.createElement('a');\n          // Nome file sicuro\n          const fileName = _this5.sanitizeFileName(article.titolo || 'articolo') + '.txt';\n          link.href = url;\n          link.download = fileName;\n          document.body.appendChild(link);\n          link.click();\n          document.body.removeChild(link);\n          window.URL.revokeObjectURL(url);\n          // Mostra messaggio di successo\n          _this5.downloadSuccessMessage = true;\n          setTimeout(() => {\n            _this5.downloadSuccessMessage = false;\n          }, 3000);\n        } catch (error) {\n          console.error('Errore durante il download:', error);\n          _this5.downloadErrorMessage = error instanceof Error ? error.message : 'Errore sconosciuto durante il download';\n          setTimeout(() => {\n            _this5.downloadErrorMessage = '';\n          }, 5000);\n        } finally {\n          _this5.downloadingArticle = null;\n        }\n      })();\n    }\n    /**\n     * Formatta l'articolo per il download usando il contenuto locale\n     */\n    formatArticleForDownload(article) {\n      let content = '';\n      if (article.titolo) {\n        content += `Title: ${article.titolo}\\n\\n`;\n      }\n      if (article.sottotitolo) {\n        content += `Subtitle: ${article.sottotitolo}\\n\\n`;\n      }\n      if (article.contenuto) {\n        content += `Text: ${article.contenuto}`;\n      }\n      return content || 'Contenuto non disponibile';\n    }\n    /**\n     * Sanifica il nome del file per il download\n     */\n    sanitizeFileName(fileName) {\n      return fileName.replace(/[<>:\"/\\\\|?*]/g, '') // Rimuove caratteri non validi per i nomi file\n      .replace(/\\s+/g, '_') // Sostituisce spazi con underscore\n      .substring(0, 100); // Limita la lunghezza\n    }\n\n    saveArticle(article) {\n      var _this6 = this;\n      return _asyncToGenerator(function* () {\n        if (!_this6.isArticleValid(article)) {\n          return;\n        }\n        _this6.updatingArticle = true;\n        _this6.updateSuccessMessage = false;\n        _this6.updateErrorMessage = '';\n        try {\n          const token = yield _this6.auth.getAccessTokenSilently().toPromise();\n          if (!token) {\n            _this6.errorMessage = 'Token di autenticazione mancante. Effettua il login.';\n            _this6.isSubmitting = false;\n            return;\n          }\n          // Prepara i dati per l'aggiornamento\n          const updateData = {\n            titolo: article.titolo?.trim(),\n            sottotitolo: article.sottotitolo?.trim() || null,\n            contenuto: article.contenuto?.trim(),\n            link: article.link // Mantieni il link esistente inizialmente\n          };\n          // Se l'articolo ha un blob, aggiorna il contenuto del blob\n          if (article.link && article.link.includes(\"blob.core.windows.net\") && article.link.endsWith(\".txt\")) {\n            try {\n              const updatedBlobUrl = yield _this6.updateBlobContent(article, token);\n              if (updatedBlobUrl) {\n                updateData.link = updatedBlobUrl;\n              }\n            } catch (blobError) {\n              console.warn('Errore nell\\'aggiornamento del blob, continuo con l\\'aggiornamento del database:', blobError);\n              // Continua comunque con l'aggiornamento del database anche se il blob fallisce\n            }\n          }\n          // Aggiorna l'articolo nel database\n          const response = yield fetch(`${_this6.updateArticleUrl}/${article.id}`, {\n            method: 'PUT',\n            headers: {\n              'Authorization': `Bearer ${token}`,\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(updateData)\n          });\n          const result = yield response.json();\n          if (response.ok && result.success) {\n            // Aggiorna l'articolo nella lista locale\n            const index = _this6.savedArticles.findIndex(a => a.id === article.id);\n            if (index !== -1) {\n              _this6.savedArticles[index] = {\n                ..._this6.savedArticles[index],\n                ...updateData,\n                editing: false\n              };\n              delete _this6.savedArticles[index];\n            }\n            _this6.updateSuccessMessage = true;\n            setTimeout(() => {\n              _this6.updateSuccessMessage = false;\n            }, 3000);\n            console.log('Articolo aggiornato con successo');\n          } else {\n            throw new Error(result.error || 'Errore durante l\\'aggiornamento dell\\'articolo');\n          }\n        } catch (error) {\n          console.error('Errore durante l\\'aggiornamento:', error);\n          _this6.updateErrorMessage = error instanceof Error ? error.message : 'Errore sconosciuto durante l\\'aggiornamento';\n          setTimeout(() => {\n            _this6.updateErrorMessage = '';\n          }, 5000);\n        } finally {\n          _this6.updatingArticle = false;\n        }\n      })();\n    }\n    /**\n     * Aggiorna il contenuto del blob con i nuovi dati dell'articolo\n     */\n    updateBlobContent(article, token) {\n      var _this7 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          // Prepara il contenuto nel formato corretto per il blob\n          let blobContent = '';\n          if (article.titolo) {\n            blobContent += `Title: ${article.titolo}\\n`;\n          }\n          if (article.sottotitolo) {\n            blobContent += `Subtitle: ${article.sottotitolo}\\n`;\n          }\n          if (article.contenuto) {\n            blobContent += `Text: ${article.contenuto}`;\n          }\n          // Chiamata API per aggiornare il blob\n          const response = yield fetch(`${_this7.updateBlob}`, {\n            method: 'POST',\n            headers: {\n              'Authorization': `Bearer ${token}`,\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              article_id: article.id,\n              blob_url: article.link,\n              content: blobContent\n            })\n          });\n          const result = yield response.json();\n          if (response.ok && result.success) {\n            return result.blob_url || article.link; // Ritorna il nuovo URL o quello esistente\n          } else {\n            throw new Error(result.error || 'Errore durante l\\'aggiornamento del blob');\n          }\n        } catch (error) {\n          console.error('Errore nell\\'aggiornamento del blob:', error);\n          throw error; // Rilancia l'errore per essere gestito dal chiamante\n        }\n      })();\n    }\n    /**\n     * Annulla le modifiche e ripristina i dati originali\n     */\n    cancelEditing(article) {\n      if (article.originalData) {\n        // Ripristina i dati originali\n        Object.assign(article, article.originalData);\n        delete article.originalData;\n      }\n      article.editing = false;\n    }\n    /**\n     * Verifica se l'articolo è valido per il salvataggio\n     */\n    isArticleValid(article) {\n      return article.titolo && article.titolo.trim().length > 0;\n    }\n    static {\n      this.ɵfac = function AddNewsComponent_Factory(t) {\n        return new (t || AddNewsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(PLATFORM_ID));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AddNewsComponent,\n        selectors: [[\"app-add-news\"]],\n        decls: 18,\n        vars: 9,\n        consts: [[1, \"container\"], [1, \"page-header\"], [1, \"page-title\"], [1, \"page-subtitle\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"tabs-container\"], [1, \"tabs-header\"], [1, \"tab-button\", 3, \"click\"], [\"class\", \"tab-content\", 4, \"ngIf\"], [\"class\", \"recent-news-section\", 4, \"ngIf\"], [\"class\", \"modal-overlay\", 3, \"click\", 4, \"ngIf\"], [1, \"tab-content\"], [1, \"status-messages\"], [\"class\", \"success-message\", 4, \"ngIf\"], [\"class\", \"error-message\", 4, \"ngIf\"], [1, \"form-container\"], [\"novalidate\", \"\", 1, \"news-form\", 3, \"ngSubmit\"], [\"newsForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"titolo\", 1, \"form-label\", \"required\"], [\"type\", \"text\", \"id\", \"titolo\", \"name\", \"titolo\", \"placeholder\", \"Inserisci il titolo della notizia...\", \"required\", \"\", \"maxlength\", \"200\", 1, \"form-input\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"titoloRef\", \"ngModel\"], [1, \"field-info\"], [\"class\", \"validation-error\", 4, \"ngIf\"], [\"for\", \"paragrafo\", 1, \"form-label\"], [\"id\", \"paragrafo\", \"name\", \"paragrafo\", \"placeholder\", \"Inserisci un breve paragrafo introduttivo...\", \"rows\", \"3\", \"maxlength\", \"500\", 1, \"form-textarea\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"for\", \"contenuto\", 1, \"form-label\", \"required\"], [\"id\", \"contenuto\", \"name\", \"contenuto\", \"placeholder\", \"Inserisci il contenuto della notizia...\", \"rows\", \"6\", \"required\", \"\", \"maxlength\", \"1000\", 1, \"form-textarea\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"contenutoRef\", \"ngModel\"], [1, \"form-actions\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"disabled\", \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [4, \"ngIf\"], [1, \"success-message\"], [1, \"message-icon\"], [1, \"message-content\"], [1, \"error-message\"], [1, \"validation-error\"], [\"class\", \"loading-container\", 4, \"ngIf\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [\"class\", \"articles-container\", 4, \"ngIf\"], [\"class\", \"status-messages\", 4, \"ngIf\"], [1, \"loading-container\"], [1, \"loading-spinner\"], [1, \"empty-state\"], [1, \"empty-icon\"], [1, \"articles-container\"], [1, \"articles-header\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"articles-list\"], [\"class\", \"article-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"article-item\"], [\"class\", \"article-content\", 4, \"ngIf\"], [\"class\", \"article-edit-content\", 4, \"ngIf\"], [1, \"article-content\"], [1, \"article-header\"], [1, \"article-info\"], [1, \"article-number\"], [1, \"article-date\"], [1, \"article-actions\"], [\"title\", \"Modifica\", 1, \"btn-icon\", 3, \"click\"], [\"title\", \"Visualizza\", 1, \"btn-icon\", 3, \"click\"], [\"class\", \"btn-icon\", \"title\", \"Espandi/Comprimi\", 3, \"click\", 4, \"ngIf\"], [\"title\", \"Scarica\", 1, \"btn-icon\", 3, \"disabled\", \"click\"], [\"title\", \"Elimina\", 1, \"btn-icon\", \"btn-delete\", 3, \"disabled\", \"click\"], [1, \"article-title\"], [\"class\", \"article-subtitle\", 4, \"ngIf\"], [\"class\", \"article-content-section\", 4, \"ngIf\"], [\"title\", \"Espandi/Comprimi\", 1, \"btn-icon\", 3, \"click\"], [1, \"article-subtitle\"], [1, \"article-content-section\"], [1, \"article-content-display\"], [\"class\", \"expand-content-btn\", 3, \"click\", 4, \"ngIf\"], [1, \"expand-content-btn\", 3, \"click\"], [1, \"article-edit-content\"], [1, \"edit-form\"], [1, \"form-label\"], [\"type\", \"text\", \"maxlength\", \"200\", \"placeholder\", \"Titolo dell'articolo...\", 1, \"form-input\", 3, \"ngModel\", \"ngModelChange\"], [\"rows\", \"3\", \"maxlength\", \"500\", \"placeholder\", \"Breve descrizione o sottotitolo...\", 1, \"form-textarea\", 3, \"ngModel\", \"ngModelChange\"], [\"rows\", \"8\", \"maxlength\", \"2000\", \"placeholder\", \"Contenuto completo dell'articolo...\", 1, \"form-textarea\", \"content-textarea\", 3, \"ngModel\", \"ngModelChange\"], [1, \"edit-actions\"], [1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [1, \"recent-news-section\"], [1, \"section-header\"], [1, \"section-title\"], [1, \"toggle-button\", 3, \"click\"], [\"class\", \"recent-news-list\", 4, \"ngIf\"], [1, \"recent-news-list\"], [\"class\", \"recent-news-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"recent-news-item\"], [1, \"news-item-header\"], [1, \"news-number\"], [1, \"news-date\"], [1, \"news-title\"], [1, \"news-subtitle\"], [1, \"modal-overlay\", 3, \"click\"], [1, \"modal-content\", 3, \"click\"], [1, \"modal-header\"], [1, \"modal-body\"], [\"class\", \"article-to-delete\", 4, \"ngIf\"], [1, \"warning-text\"], [1, \"modal-actions\"], [1, \"btn\", \"btn-secondary\", 3, \"disabled\", \"click\"], [1, \"btn\", \"btn-danger\", 3, \"disabled\", \"click\"], [1, \"article-to-delete\"], [1, \"text-muted\"]],\n        template: function AddNewsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n            i0.ɵɵtext(3, \"\\uD83D\\uDCDD Gestione Notizie\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"p\", 3);\n            i0.ɵɵtext(5, \"Aggiungi nuove notizie e gestisci quelle esistenti\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"button\", 4);\n            i0.ɵɵlistener(\"click\", function AddNewsComponent_Template_button_click_6_listener() {\n              return ctx.goToHome();\n            });\n            i0.ɵɵtext(7, \" \\u2190 Indietro \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"div\", 5)(9, \"div\", 6)(10, \"button\", 7);\n            i0.ɵɵlistener(\"click\", function AddNewsComponent_Template_button_click_10_listener() {\n              return ctx.setActiveTab(\"add\");\n            });\n            i0.ɵɵtext(11, \" \\u2795 Aggiungi Notizia \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"button\", 7);\n            i0.ɵɵlistener(\"click\", function AddNewsComponent_Template_button_click_12_listener() {\n              return ctx.setActiveTab(\"manage\");\n            });\n            i0.ɵɵtext(13);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(14, AddNewsComponent_div_14_Template, 38, 14, \"div\", 8);\n            i0.ɵɵtemplate(15, AddNewsComponent_div_15_Template, 7, 6, \"div\", 8);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(16, AddNewsComponent_div_16_Template, 7, 3, \"div\", 9);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(17, AddNewsComponent_div_17_Template, 17, 5, \"div\", 10);\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(10);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"add\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.activeTab === \"manage\");\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate1(\" \\uD83D\\uDCDA I Miei Articoli (\", ctx.savedArticles.length, \") \");\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"add\");\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"manage\");\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.addedNews.length > 0 && ctx.activeTab === \"add\");\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.showDeleteModal);\n          }\n        },\n        dependencies: [i4.NgForOf, i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MaxLengthValidator, i5.NgModel, i5.NgForm],\n        styles: [\".container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.page-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;padding:30px 20px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border-radius:12px}.page-title[_ngcontent-%COMP%]{margin:0 0 10px;font-size:2.5rem;font-weight:600}.page-subtitle[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;opacity:.9}.tabs-container[_ngcontent-%COMP%]{margin-top:30px}.tabs-header[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:30px;border-bottom:2px solid #e9ecef}.tab-button[_ngcontent-%COMP%]{padding:12px 24px;border:none;background:transparent;cursor:pointer;font-size:1rem;font-weight:500;color:#6c757d;border-bottom:2px solid transparent;transition:all .2s ease}.tab-button[_ngcontent-%COMP%]:hover{color:#495057;background:#f8f9fa}.tab-button.active[_ngcontent-%COMP%]{color:#667eea;border-bottom-color:#667eea;background:#f8f9ff}.tab-content[_ngcontent-%COMP%]{min-height:400px}.loading-container[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#6c757d}.loading-spinner[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#6c757d}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px;color:#495057}.articles-container[_ngcontent-%COMP%]{background:white;border:1px solid #e9ecef;border-radius:12px;overflow:hidden;box-shadow:0 2px 10px #0000001a}.articles-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 25px;background:#f8f9fa;border-bottom:1px solid #e9ecef}.articles-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#495057;font-size:1.3rem}.articles-list[_ngcontent-%COMP%]{padding:0}.article-item[_ngcontent-%COMP%]{padding:20px 25px;border-bottom:1px solid #f1f3f4}.article-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.article-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.article-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.article-number[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:4px 10px;border-radius:20px;font-size:.85rem;font-weight:500}.article-date[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.article-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;font-size:1.1rem;cursor:pointer;padding:6px;border-radius:4px;transition:background-color .2s ease}.btn-icon[_ngcontent-%COMP%]:hover{background:#f8f9fa}.btn-icon[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-delete[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffe6e6;color:#dc3545}.article-title[_ngcontent-%COMP%]{margin:0 0 8px;color:#2c3e50;font-size:1.1rem;font-weight:600}.article-subtitle[_ngcontent-%COMP%]{margin:0 0 10px;color:#666;line-height:1.4}.article-content-section[_ngcontent-%COMP%]{margin-top:10px}.article-content-display[_ngcontent-%COMP%]{color:#666;line-height:1.6;white-space:pre-line;margin-top:8px;padding:15px;background:#f8f9fa;border-radius:8px;border-left:4px solid #667eea}.article-content-preview[_ngcontent-%COMP%]{max-height:100px;overflow:hidden;position:relative}.article-content-preview[_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;bottom:0;left:0;right:0;height:30px;background:linear-gradient(transparent,#f8f9fa)}.expand-content-btn[_ngcontent-%COMP%]{background:none;border:none;color:#667eea;cursor:pointer;font-size:.9rem;margin-top:10px;padding:5px 0;text-decoration:underline;transition:color .2s ease}.expand-content-btn[_ngcontent-%COMP%]:hover{color:#5a6fd8}.article-edit-content[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;border-radius:8px;margin-top:10px}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.content-textarea[_ngcontent-%COMP%]{min-height:200px;font-family:Courier New,monospace;line-height:1.5}.edit-actions[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-end;margin-top:20px}.status-messages[_ngcontent-%COMP%]{margin-bottom:30px}.success-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:15px 20px;border-radius:8px;margin-bottom:15px}.success-message[_ngcontent-%COMP%]{background:#d1edff;border:1px solid #9fdbff;color:#0056b3}.error-message[_ngcontent-%COMP%]{background:#ffe6e6;border:1px solid #ffb3b3;color:#d63384}.message-icon[_ngcontent-%COMP%]{font-size:1.5rem}.message-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 5px;font-size:1.1rem}.message-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem}.form-container[_ngcontent-%COMP%]{background:white;border:1px solid #e9ecef;border-radius:12px;padding:30px;box-shadow:0 2px 10px #0000001a;margin-bottom:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:25px}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:#495057;font-size:1rem}.form-label.required[_ngcontent-%COMP%]:after{content:\\\" *\\\";color:#dc3545}.form-input[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:2px solid #e9ecef;border-radius:8px;font-size:1rem;font-family:inherit;transition:border-color .2s ease;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}.field-info[_ngcontent-%COMP%]{margin-top:5px;text-align:right}.field-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6c757d;font-size:.85rem}.validation-error[_ngcontent-%COMP%]{margin-top:5px}.validation-error[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#dc3545;font-size:.85rem}.form-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:flex-end;flex-wrap:wrap;margin-top:30px}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:8px}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 15px #667eea4d}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6268}.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background:#c82333;transform:translateY(-1px)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.modal-content[_ngcontent-%COMP%]{background:white;border-radius:12px;max-width:500px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0000004d}.modal-header[_ngcontent-%COMP%]{padding:20px 25px 15px;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#495057;font-size:1.2rem}.modal-body[_ngcontent-%COMP%]{padding:20px 25px}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 15px;color:#666;line-height:1.5}.article-to-delete[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:8px;border-left:4px solid #667eea;margin:15px 0}.article-to-delete[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#2c3e50;margin-bottom:5px}.text-muted[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.warning-text[_ngcontent-%COMP%]{color:#dc3545;font-weight:500;margin-top:15px}.modal-actions[_ngcontent-%COMP%]{padding:15px 25px 20px;border-top:1px solid #e9ecef;display:flex;gap:15px;justify-content:flex-end}.recent-news-section[_ngcontent-%COMP%]{background:white;border:1px solid #e9ecef;border-radius:12px;overflow:hidden;box-shadow:0 2px 10px #0000001a}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 25px;background:#f8f9fa;border-bottom:1px solid #e9ecef}.section-title[_ngcontent-%COMP%]{margin:0;color:#495057;font-size:1.3rem}.toggle-button[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:.9rem;transition:background-color .2s ease}.toggle-button[_ngcontent-%COMP%]:hover{background:#5a6fd8}.recent-news-list[_ngcontent-%COMP%]{padding:0}.recent-news-item[_ngcontent-%COMP%]{padding:20px 25px;border-bottom:1px solid #f1f3f4}.recent-news-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.news-item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.news-number[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:4px 10px;border-radius:20px;font-size:.85rem;font-weight:500}.news-date[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.news-title[_ngcontent-%COMP%]{margin:0 0 8px;color:#2c3e50;font-size:1.1rem;font-weight:600}.news-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;line-height:1.4}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:15px}.tabs-header[_ngcontent-%COMP%]{flex-direction:column;gap:5px}.tab-button[_ngcontent-%COMP%]{width:100%;text-align:left}.form-container[_ngcontent-%COMP%]{padding:20px}.form-actions[_ngcontent-%COMP%], .edit-actions[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.articles-header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:stretch}.article-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:10px}.article-actions[_ngcontent-%COMP%]{justify-content:flex-end}.modal-overlay[_ngcontent-%COMP%]{padding:10px}.modal-actions[_ngcontent-%COMP%]{flex-direction:column}.modal-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}\"]\n      });\n    }\n  }\n  return AddNewsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}