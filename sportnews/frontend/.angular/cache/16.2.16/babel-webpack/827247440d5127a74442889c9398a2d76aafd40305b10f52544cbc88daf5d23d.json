{"ast":null,"code":"// app.component.ts\nimport { PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@auth0/auth0-angular\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction AppComponent_div_6_div_1_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_6_div_1_div_16_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r5.logout());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 24);\n    i0.ɵɵelement(3, \"path\", 25)(4, \"path\", 26)(5, \"path\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" Logout \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AppComponent_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"div\", 12)(3, \"span\", 13);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"async\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 14)(7, \"p\", 15);\n    i0.ɵɵtext(8, \"Benvenuto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 16);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"div\", 17)(13, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_6_div_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.toggleMenu());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(14, \"svg\", 19);\n    i0.ɵɵelement(15, \"path\", 20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(16, AppComponent_div_6_div_1_div_16_Template, 7, 0, \"div\", 21);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.getInitials((tmp_0_0 = i0.ɵɵpipeBind1(5, 5, ctx_r1.auth.user$)) == null ? null : tmp_0_0.name));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate((tmp_1_0 = i0.ɵɵpipeBind1(11, 7, ctx_r1.auth.user$)) == null ? null : tmp_1_0.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"active\", ctx_r1.isMenuOpen);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isMenuOpen);\n  }\n}\nfunction AppComponent_div_6_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_6_ng_template_3_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.login());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 24);\n    i0.ɵɵelement(3, \"path\", 30)(4, \"path\", 31)(5, \"path\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" Accedi \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AppComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, AppComponent_div_6_div_1_Template, 17, 9, \"div\", 8);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵtemplate(3, AppComponent_div_6_ng_template_3_Template, 7, 0, \"ng-template\", null, 9, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r2 = i0.ɵɵreference(4);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 2, ctx_r0.auth.isAuthenticated$))(\"ngIfElse\", _r2);\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(auth, http, platformId) {\n      this.auth = auth;\n      this.http = http;\n      this.platformId = platformId;\n      this.isBrowser = false;\n      this.isMenuOpen = false;\n    }\n    ngOnInit() {\n      this.isBrowser = isPlatformBrowser(this.platformId);\n      if (!this.isBrowser) return;\n      this.auth.user$.subscribe(user => {\n        if (user) {\n          this.http.post('http://localhost:8080/register', {\n            auth0Id: user.sub,\n            name: user.name,\n            email: user.email\n          }).subscribe({\n            next: () => console.log('Utente salvato'),\n            error: err => console.error('Errore nel salvataggio utente', err)\n          });\n        }\n      });\n    }\n    login() {\n      if (this.isBrowser) {\n        this.auth.loginWithRedirect();\n      }\n    }\n    logout() {\n      if (this.isBrowser) {\n        this.auth.logout({\n          logoutParams: {\n            returnTo: window.location.origin\n          }\n        });\n      }\n    }\n    toggleMenu() {\n      this.isMenuOpen = !this.isMenuOpen;\n    }\n    getInitials(name) {\n      if (!name) return 'U';\n      return name.split(' ').map(word => word.charAt(0)).join('').substring(0, 2);\n    }\n    onDocumentClick(event) {\n      const target = event.target;\n      const menuElement = target.closest('.user-menu');\n      if (!menuElement && this.isMenuOpen) {\n        this.isMenuOpen = false;\n      }\n    }\n    static {\n      this.ɵfac = function AppComponent_Factory(t) {\n        return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(PLATFORM_ID));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AppComponent,\n        selectors: [[\"app-root\"]],\n        hostBindings: function AppComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"click\", function AppComponent_click_HostBindingHandler($event) {\n              return ctx.onDocumentClick($event);\n            }, false, i0.ɵɵresolveDocument);\n          }\n        },\n        decls: 9,\n        vars: 1,\n        consts: [[1, \"header\"], [1, \"container\"], [1, \"header-content\"], [1, \"brand\"], [1, \"brand-title\"], [\"class\", \"auth-section\", 4, \"ngIf\"], [1, \"main-content\"], [1, \"auth-section\"], [\"class\", \"user-area\", 4, \"ngIf\", \"ngIfElse\"], [\"loggedOut\", \"\"], [1, \"user-area\"], [1, \"user-info\"], [1, \"avatar\"], [1, \"avatar-text\"], [1, \"user-details\"], [1, \"welcome-text\"], [1, \"user-name\"], [1, \"user-menu\"], [1, \"menu-toggle\", 3, \"click\"], [\"width\", \"24\", \"height\", \"24\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\"], [\"d\", \"M7 10L12 15L17 10\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\"], [\"class\", \"dropdown-menu\", 4, \"ngIf\"], [1, \"dropdown-menu\"], [1, \"menu-item\", \"logout-item\", 3, \"click\"], [\"width\", \"20\", \"height\", \"20\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\"], [\"d\", \"M9 21H5C4.44772 21 4 20.5523 4 20V4C4 3.44772 4.44772 3 5 3H9\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\"], [\"d\", \"M16 17L21 12L16 7\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\"], [\"d\", \"M21 12H9\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\"], [1, \"login-section\"], [1, \"login-btn\", 3, \"click\"], [\"d\", \"M15 3H19C19.5523 3 20 3.44772 20 4V20C20 20.5523 19.5523 21 19 21H15\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\"], [\"d\", \"M10 17L15 12L10 7\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\"], [\"d\", \"M15 12H3\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\"]],\n        template: function AppComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"header\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h1\", 4);\n            i0.ɵɵtext(5, \"SportNews \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(6, AppComponent_div_6_Template, 5, 4, \"div\", 5);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(7, \"main\", 6);\n            i0.ɵɵelement(8, \"router-outlet\");\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngIf\", ctx.isBrowser);\n          }\n        },\n        dependencies: [i3.NgIf, i4.RouterOutlet, i3.AsyncPipe],\n        styles: [\"*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);box-shadow:0 4px 20px #0000001a;position:sticky;top:0;z-index:1000;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 0}.brand-title[_ngcontent-%COMP%]{color:#fff;font-size:2rem;font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.2)}.auth-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.user-area[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;position:relative}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;color:#fff}.avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,#ffeaa7,#fab1a0);display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1.1rem;color:#2d3436;box-shadow:0 4px 12px #00000026;transition:transform .2s ease}.avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.avatar-text[_ngcontent-%COMP%]{text-transform:uppercase}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.welcome-text[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9;margin-bottom:2px}.user-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.user-menu[_ngcontent-%COMP%]{position:relative}.menu-toggle[_ngcontent-%COMP%]{background:rgba(255,255,255,.2);border:none;color:#fff;padding:.5rem;border-radius:8px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.menu-toggle[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.3);transform:translateY(-1px)}.menu-toggle.active[_ngcontent-%COMP%]{background:rgba(255,255,255,.3)}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;background:white;border-radius:12px;box-shadow:0 10px 40px #00000026;padding:.5rem;min-width:200px;animation:_ngcontent-%COMP%_slideDown .2s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;border-radius:8px;color:#2d3436;text-decoration:none;transition:all .2s ease;cursor:pointer;border:none;background:none;width:100%;font-size:.95rem}.menu-item[_ngcontent-%COMP%]:hover{background:#f8f9ff;transform:translate(4px)}.logout-item[_ngcontent-%COMP%]{color:#e74c3c}.logout-item[_ngcontent-%COMP%]:hover{background:#ffe8e8}.menu-divider[_ngcontent-%COMP%]{border:none;height:1px;background:#e9ecef;margin:.5rem 0}.login-section[_ngcontent-%COMP%]{display:flex;align-items:center}.login-btn[_ngcontent-%COMP%]{background:rgba(255,255,255,.2);border:2px solid rgba(255,255,255,.3);color:#fff;padding:.75rem 1.5rem;border-radius:50px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.login-btn[_ngcontent-%COMP%]:hover{background:white;color:#667eea;transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.main-content[_ngcontent-%COMP%]{min-height:calc(100vh - 80px);background:linear-gradient(to bottom,#f8f9ff,#ffffff)}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:0 1rem}.user-details[_ngcontent-%COMP%]{display:none}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}.dropdown-menu[_ngcontent-%COMP%]{right:-1rem}}@media (max-width: 480px){.header-content[_ngcontent-%COMP%]{padding:.75rem 0}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1rem}.login-btn[_ngcontent-%COMP%]{padding:.6rem 1.2rem;font-size:.9rem}}\"]\n      });\n    }\n  }\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}